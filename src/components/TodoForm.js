import React from 'react'
import DatePicker from "react-datepicker";
import "react-datepicker/dist/react-datepicker.css";

function TodoForm({
    handleSubmit,
    heading = false,
    text, setText,
    day, setDay,
    time, setTime,
    todoProject, setTodoProject,
    projects,
    showButtons = false,
    setShowModal = false
}){

    return (
            <form onSubmit={handleSubmit} className='TodoForm'>
                <div className="text">
                    {
                        heading && 
                        <h3>{heading}</h3>
                    }
                    <input
                        type='text'
                        value={text}
                        onChange={e => setText(e.target.value)}
                        placeholder='Задача ...'
                        autoFocus
                    />
                </div>
                <div className="remind">
                <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 489.2 489.2" width='20px' height='20px'><g>
	<path d="M488.038,218.8c-4.2-15.6-18.7-19.8-33.3-23.9c-20.8-6.2-54.1-15.6-91.5-53.1c-60.8-60.7-145.3-106.6-219.7-79.5
		c-4.7-35.1-34.9-62.3-71.3-62.3c-39.7,0-71.9,32.3-71.9,71.9c0,36.1,26.7,66,61.4,71.2c-28.4,74.8,17.6,160,77.9,220.3
		c37.4,37.4,47.4,71.6,53.1,91.5c9.7,34.3,25.6,34.3,31.2,34.3c15.6,0,29.1-13.5,67.6-54.1c0.1-0.1,0.2-0.2,0.2-0.2
		c53.5,42.5,110.2,16.4,136-9.1c29.9-29.5,44.5-89.5,7.4-133.2C481.938,247.8,492.137,237.3,488.038,218.8z M41.237,71.9
		c0-17.1,13.9-30.9,30.9-30.9c17.1,0,30.9,13.9,30.9,30.9c0,17.1-13.9,30.9-30.9,30.9C55.138,102.9,41.237,89,41.237,71.9z
		 M398.538,398.7c-20.6,21.1-54.1,22.6-77.2,6.7c25.1-24.9,59.6-59.1,84.2-83.5C424.137,344.6,417.137,379.6,398.538,398.7z
		 M230.037,439.3c-6.2-23.9-19.8-62.4-61.4-104c-28.8-28.8-117.6-128.8-51.2-207.5c2-1.6,6.2-5.6,6.5-5.8
		c79.1-71.8,181,18.7,209.1,47.9c42.6,41.6,81.1,54.1,104,61.4C428.737,239.6,238.337,431,230.037,439.3z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>

                    <p>Напомнить мне!</p>
                </div>
                <div className="pick-day">
                    <div className="title">
                    <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 119.75"  width='20px' height='20px'><path class="cls-1" d="M91.89,57.78a31,31,0,1,1-31,31,31,31,0,0,1,31-31Zm-22-53.72c0-2.23,2.2-4.06,5-4.06s5,1.82,5,4.06V21.83c0,2.23-2.2,4.06-5,4.06s-5-1.82-5-4.06V4.06ZM13.49,57.51c-.29,0-.54-1.23-.54-2.75s.22-2.73.54-2.73H27c.28,0,.53,1.23.53,2.73s-.22,2.75-.53,2.75Zm21.54,0c-.28,0-.53-1.23-.53-2.75S34.72,52,35,52H48.55c.28,0,.53,1.23.53,2.73s-.22,2.75-.53,2.75Zm21.55,0c-.28,0-.53-1.23-.53-2.75s.22-2.73.53-2.73H70.1c.28,0,.53,1.22.53,2.72a41.48,41.48,0,0,0-3.9,2.76ZM13.52,73.23c-.28,0-.54-1.23-.54-2.75s.22-2.74.54-2.74H27c.28,0,.53,1.23.53,2.74s-.22,2.75-.53,2.75Zm21.54,0c-.28,0-.53-1.23-.53-2.75s.22-2.74.53-2.74H48.58c.28,0,.53,1.23.53,2.74s-.22,2.75-.53,2.75ZM13.55,89c-.28,0-.54-1.23-.54-2.74s.23-2.75.54-2.75H27.06c.28,0,.53,1.23.53,2.75S27.37,89,27.06,89Zm21.54,0c-.28,0-.53-1.23-.53-2.74s.22-2.75.53-2.75H48.61c.28,0,.53,1.23.53,2.75S48.92,89,48.61,89ZM25.36,4.06c0-2.23,2.2-4.06,4.95-4.06s4.95,1.82,4.95,4.06V21.83c0,2.23-2.21,4.06-4.95,4.06s-4.95-1.82-4.95-4.06V4.06ZM5.45,38.84H99.79V18.39a2.51,2.51,0,0,0-2.5-2.5h-9a2.75,2.75,0,1,1,0-5.49h9a8,8,0,0,1,8,8V50.87a41.1,41.1,0,0,0-5.57-1.49V44.31H5.45v53A2.47,2.47,0,0,0,6.19,99,2.51,2.51,0,0,0,8,99.77H52.78a39.14,39.14,0,0,0,1.93,5.55H8A8,8,0,0,1,2.35,103,7.88,7.88,0,0,1,0,97.32V18.41a8,8,0,0,1,8-8h9.66a2.75,2.75,0,0,1,0,5.49H8a2.46,2.46,0,0,0-1.76.73,2.54,2.54,0,0,0-.73,1.77V38.85H5.45Zm37.74-23a2.75,2.75,0,1,1,0-5.49h18.4a2.75,2.75,0,1,1,0,5.49ZM82.58,83.5l5.83,5.55L100.5,76.8c1-1,1.62-1.82,2.85-.56l4,4.08c1.3,1.29,1.23,2,0,3.25L90.68,100c-2.59,2.54-2.14,2.7-4.78.09l-10-10A1.16,1.16,0,0,1,76,88.28l4.62-4.78c.69-.73,1.25-.69,2,0Z"/></svg>
                        <p>Выбрать день</p>
                    </div>
                    <DatePicker 
                            selected={day} 
                            onChange={(date) => setDay(date)} 
                            />
                </div>
                <div className="pick-time">
                    <div className="title">
                        
<svg  width='20px' height='20px' version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 488 488">
<g transform="translate(0 -540.36)"><g><g>
			<path d="M351.1,846.96l-97.1-67.9v-116.7c0-5.5-4.5-10-10-10s-10,4.5-10,10v122c0,3.3,1.6,6.3,4.3,8.2l101.4,70.9
				c1.7,1.2,3.7,1.8,5.7,1.8v0c3.1,0,6.2-1.5,8.2-4.4C356.7,856.36,355.6,850.16,351.1,846.96z"/>
			<path d="M416.4,611.96L416.4,611.96c-46.2-46.2-107.4-71.6-172.4-71.6s-126.2,25.4-172.4,71.6C25.4,658.16,0,719.36,0,784.36
				s25.4,126.2,71.6,172.4c46.2,46.2,107.4,71.6,172.4,71.6s126.2-25.4,172.4-71.6s71.6-107.4,71.6-172.4S462.6,658.16,416.4,611.96
				z M254,1008.16L254,1008.16v-40.8c0-5.5-4.5-10-10-10s-10,4.5-10,10v40.8c-115.6-5.1-208.7-98.2-213.8-213.8H61
				c5.5,0,10-4.5,10-10s-4.5-10-10-10H20.2c5.1-115.6,98.2-208.7,213.8-213.8v40.8c0,5.5,4.5,10,10,10s10-4.5,10-10v-40.8
				c115.6,5.1,208.7,98.2,213.8,213.8H427c-5.5,0-10,4.5-10,10s4.5,10,10,10h40.8C462.7,909.96,369.6,1003.06,254,1008.16z"/>
		</g></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g>
</svg>
                        <p>Выбрать время</p>
                    </div>
                    <DatePicker
                               selected={time}
                               onChange={(date) => setTime(date)}
                               showTimeSelect
                               showTimeSelectOnly
                               timeIntervals={15}
                               timeCaption="Time"
                               dateFormat="h:mm aa"
                             />
                </div>
                <div className="pick-project">
                    <div className="title">
                    <svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg">
<path fill="#444" d="M8.25 0c-6.38 0-9.11 7.38-8.010 9.92 0.82 1.89 2.62 0.080 3.34 1 1.88 2.46-2.11 3.81 0.090 4.68 2.59 1.060 12.33 0.4 12.33-8.53 0-2.69-1.34-7.070-7.75-7.070zM4.47 9c-0.815-0.017-1.47-0.682-1.47-1.5 0-0.828 0.672-1.5 1.5-1.5s1.5 0.671 1.5 1.5c0 0 0 0 0 0 0 0.828-0.672 1.5-1.5 1.5-0.011 0-0.021-0-0.032-0zM6 3.5c0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5-0.672 1.5-1.5 1.5c-0.011 0-0.021-0-0.032-0-0.814-0.017-1.468-0.682-1.468-1.5 0-0 0-0 0-0zM8.47 14c-0.815-0.017-1.47-0.682-1.47-1.5 0-0.828 0.672-1.5 1.5-1.5s1.5 0.671 1.5 1.5c0 0 0 0 0 0 0 0.828-0.672 1.5-1.5 1.5-0.011 0-0.021-0-0.032-0zM12.47 11c-0.815-0.017-1.47-0.682-1.47-1.5 0-0.828 0.672-1.5 1.5-1.5s1.5 0.671 1.5 1.5c0 0 0 0 0 0 0 0.828-0.672 1.5-1.5 1.5-0.011 0-0.021-0-0.032-0zM12.47 6c-0.815-0.017-1.47-0.682-1.47-1.5 0-0.828 0.672-1.5 1.5-1.5s1.5 0.671 1.5 1.5c0 0 0 0 0 0 0 0.828-0.672 1.5-1.5 1.5-0.011 0-0.021-0-0.032-0z"></path>
</svg>
                        <p>Выбрать проект</p>
                    </div>
                    <div className="projects">
                        {
                            projects.length > 0 ?
                            projects.map( project => 
                                <div
                                    className={`project ${todoProject === project.name ? "active" : ""}`}
                                    onClick={() => setTodoProject(project.name)}
                                    key={project.id}
                                >
                                    {project.name}
                                </div>    
                            )
                            :
                            <div style={{color:'#ff0000'}}>
                                Please add a project before proceeding
                            </div>
                        }
                    </div>
                </div>
                {
                    showButtons &&
                    <div>
                        <div className="cancel" onClick={() => setShowModal(false)}>
                        <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        >
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                        </svg>
                        </div>
                        <div className="confirm">
                            <button>+ Добавить задачу</button>
                        </div>
                    </div>
                }
            </form>
    )
}

export default TodoForm